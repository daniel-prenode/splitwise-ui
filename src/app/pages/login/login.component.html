<div class="auth-container">
  <div class="auth-card">
    <mat-card>
      <mat-card-header class="text-center mb-4">
        <mat-card-title class="h3 fw-bold text-primary">
          {{ 'login.welcome.title' | translate }}
        </mat-card-title>
        <mat-card-subtitle>
          {{ 'login.welcome.subtitle' | translate }}
        </mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <form
          [formGroup]="loginForm"
          (ngSubmit)="onSubmit()"
          class="d-flex flex-column gap-3"
        >
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>{{ 'login.email.label' | translate }}</mat-label>
            <input
              matInput
              type="email"
              formControlName="email"
              [placeholder]="'login.email.placeholder' | translate"
            />
            <mat-icon matSuffix>email</mat-icon>
            <mat-error
              *ngIf="
                loginForm.get('email')?.invalid &&
                loginForm.get('email')?.touched
              "
            >
              {{ getEmailErrorMessage() }}
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>{{ 'login.password.label' | translate }}</mat-label>
            <input
              matInput
              [type]="hidePassword$() ? 'password' : 'text'"
              formControlName="password"
              [placeholder]="'login.password.placeholder' | translate"
            />
            <button
              mat-icon-button
              matSuffix
              (click)="togglePasswordVisibility()"
              type="button"
            >
              <mat-icon>{{
                hidePassword$() ? 'visibility_off' : 'visibility'
              }}</mat-icon>
            </button>
            <mat-error
              *ngIf="
                loginForm.get('password')?.invalid &&
                loginForm.get('password')?.touched
              "
            >
              {{ getPasswordErrorMessage() }}
            </mat-error>
          </mat-form-field>

          <button
            mat-raised-button
            color="primary"
            type="submit"
            [disabled]="loginForm.invalid || isLoading$()"
            class="full-width py-3 mt-3"
          >
            <mat-spinner
              *ngIf="isLoading$()"
              diameter="20"
              class="me-2"
            ></mat-spinner>
            {{ buttonText$() }}
          </button>
        </form>
      </mat-card-content>

      <mat-card-actions class="d-flex flex-column gap-2 p-3">
        <div class="text-center">
          <a href="#" class="text-decoration-none">{{
            'login.forgot.password' | translate
          }}</a>
        </div>
        <div class="text-center">
          <span class="text-muted">{{ 'login.no.account' | translate }} </span>
          <a routerLink="/register" class="text-decoration-none fw-bold">{{
            'login.signup.link' | translate
          }}</a>
        </div>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
